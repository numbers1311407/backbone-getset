!function(a,b){"function"==typeof define&&define.amd?define(["exports","Backbone","underscore"],b):"object"==typeof exports?b(exports,require("backbone"),require("underscore")):b({},a.Backbone,a._)}(this,function(a,b,c){function d(a,b,d){b.prototype[a]&&(d.prototype[a]=c.extend({},b.prototype[a],d.prototype[a]))}var e=b.Model.extend;b.Model.extend=function(){var a=e.apply(this,arguments);return d("getters",this,a),d("setters",this,a),a};var f=b.Model.prototype.set;c.extend(b.Model.prototype,{getters:{},setters:{},set:function(a,b,d){var e;return null==a?this:("object"==typeof a?(e=a,d=b):(e={})[a]=b,c.each(this.setters,function(a,b){c.has(e,b)&&(e[b]=a.call(this,e[b]))}.bind(this)),f.call(this,e,d))},get:function(a){return this.getters&&this.getters[a]?this.getters[a].call(this):this.attributes[a]},toJSON:function(a){a||(a={});var b=c.clone(this.attributes);return a.getters&&c.each(this.getters,function(a,c){b[c]=a.call(this)}.bind(this)),b}})});